<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AQC Dashboard</title>
    <link rel="shortcut icon" href="images/icon.png" type="image/x-icon">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html, body {
            overflow-x: hidden;
            width: 100%;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #000000;
            color: white;
            min-height: 100vh;
            line-height: 1.4;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px;
            overflow-x: hidden;
        }

        /* Breadcrumb Navigation */
        .breadcrumb {
            background: #111111;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 12px 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: clamp(14px, 2vw, 16px);
            overflow-x: auto;
            white-space: nowrap;
        }

        .breadcrumb a {
            color: #22c55e;
            text-decoration: none;
            transition: opacity 0.2s;
            flex-shrink: 0;
        }

        .breadcrumb a:hover {
            opacity: 0.8;
        }

        .breadcrumb .separator {
            color: rgba(255, 255, 255, 0.5);
            flex-shrink: 0;
        }

        .breadcrumb .current {
            color: white;
            flex-shrink: 0;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 20px;
            background: #111111;
            border-radius: 12px;
            border: 1px solid #333;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .welcome {
            flex: 1;
            min-width: 200px;
        }
        
        .welcome h1 {
            font-size: clamp(20px, 4vw, 32px);
            margin-bottom: 6px;
            color: #ffffff;
            line-height: 1.2;
            word-break: break-word;
        }
        
        .welcome p {
            color: rgba(255, 255, 255, 0.7);
            font-size: clamp(14px, 2.5vw, 16px);
            word-break: break-word;
        }
        
        .header-actions {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-shrink: 0;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 8px 14px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
            font-size: clamp(13px, 2vw, 15px);
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap;
            min-width: 60px;
            justify-content: center;
        }
        
        .btn-primary {
            background: #22c55e;
            color: white;
        }
        
        .btn-secondary {
            background: #1a1a1a;
            color: white;
            border: 1px solid #333;
        }
        
        .btn:hover {
            transform: translateY(-1px);
            opacity: 0.9;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
            width: 100%;
        }
        
        .stat-card {
            background: #111111;
            border: 1px solid #333;
            border-radius: 10px;
            padding: 16px;
            transition: all 0.2s ease;
            min-width: 0;
        }
        
        .stat-card:hover {
            transform: translateY(-1px);
            border-color: #22c55e;
        }
        
        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            gap: 5px;
        }
        
        .stat-title {
            font-size: clamp(12px, 2vw, 15px);
            color: rgba(255, 255, 255, 0.7);
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .stat-icon {
            font-size: clamp(16px, 3vw, 22px);
            color: #22c55e;
            flex-shrink: 0;
        }
        
        .stat-value {
            font-size: clamp(22px, 5vw, 32px);
            font-weight: bold;
            color: #22c55e;
            word-break: break-all;
        }
        
        .charts-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
            margin-bottom: 20px;
            width: 100%;
        }
        
        .charts-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
            width: 100%;
        }
        
        .chart-card {
            background: #111111;
            border: 1px solid #333;
            border-radius: 10px;
            padding: 16px;
            transition: all 0.2s ease;
            min-width: 0;
            overflow: hidden;
        }
        
        .chart-card:hover {
            border-color: #22c55e;
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .chart-title {
            font-size: clamp(14px, 2.5vw, 18px);
            font-weight: 600;
            color: #ffffff;
            display: flex;
            align-items: center;
            gap: 6px;
            flex: 1;
            min-width: 120px;
        }
        
        .date-filter {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 4px;
            padding: 6px 10px;
            color: white;
            font-size: clamp(12px, 1.8vw, 14px);
            flex-shrink: 0;
            min-width: 80px;
        }

        /* Fixed chart container heights with proper responsive behavior */
        .chart-container {
            height: 280px;
            position: relative;
            width: 100%;
            overflow: hidden;
        }

        .donut-container {
            position: relative;
            height: 280px;
            width: 100%;
            overflow: hidden;
        }
        
        .donut-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            pointer-events: none;
        }
        
        .donut-percentage {
            font-size: clamp(18px, 4vw, 28px);
            font-weight: bold;
            color: #22c55e;
        }
        
        .donut-label {
            font-size: clamp(12px, 2vw, 14px);
            color: rgba(255, 255, 255, 0.7);
        }
        
        .bottom-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
            width: 100%;
        }
        
        .content-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
            width: 100%;
        }
        
        .table-card {
            background: #111111;
            border: 1px solid #333;
            border-radius: 10px;
            padding: 16px;
            transition: all 0.2s ease;
            max-height: 400px;
            overflow-y: auto;
            overflow-x: hidden;
            min-width: 0;
        }
        
        .table-card:hover {
            border-color: #22c55e;
        }
        
        .section-title {
            font-size: clamp(15px, 3vw, 20px);
            font-weight: 600;
            color: #22c55e;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 8px;
            table-layout: fixed;
        }
        
        .table th {
            text-align: left;
            padding: 10px 8px;
            border-bottom: 1px solid #333;
            color: rgba(255, 255, 255, 0.7);
            font-size: clamp(12px, 2vw, 14px);
            font-weight: 500;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .table td {
            padding: 10px 8px;
            border-bottom: 1px solid #1a1a1a;
            font-size: clamp(12px, 2vw, 14px);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .table th:first-child,
        .table td:first-child {
            width: 50%;
        }
        
        .table th:nth-child(2),
        .table td:nth-child(2) {
            width: 25%;
            text-align: center;
        }
        
        .table th:nth-child(3),
        .table td:nth-child(3) {
            width: 25%;
            text-align: right;
        }
        
        .industry-tag,
        .country-tag {
            background: #22c55e;
            color: #000000;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: clamp(10px, 1.5vw, 12px);
            font-weight: 500;
            display: inline-block;
            max-width: 100%;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .theme-item,
        .needs-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #1a1a1a;
            gap: 10px;
        }
        
        .theme-content {
            flex: 1;
            min-width: 0;
        }
        
        .theme-title {
            font-weight: 500;
            margin-bottom: 4px;
            color: #ffffff;
            font-size: clamp(13px, 2.2vw, 15px);
            word-break: break-word;
        }
        
        .theme-stats {
            font-size: clamp(11px, 1.8vw, 13px);
            color: rgba(255, 255, 255, 0.5);
            word-break: break-word;
        }
        
        .theme-badge {
            background: #22c55e;
            color: #000000;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: clamp(9px, 1.2vw, 11px);
            font-weight: 500;
            flex-shrink: 0;
            white-space: nowrap;
        }
        
        .more-btn {
            background: none;
            border: none;
            color: rgba(255,255,255,0.5);
            cursor: pointer;
            font-size: 16px;
            padding: 6px;
            border-radius: 4px;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }
        
        .more-btn:hover {
            color: #22c55e;
            background: #1a1a1a;
        }

        /* Responsive breakpoints */
        @media (min-width: 768px) {
            .charts-grid {
                grid-template-columns: 2fr 1fr;
            }
            
            .content-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        @media (max-width: 767px) {
            .container {
                padding: 8px;
            }

            .breadcrumb {
                padding: 10px 15px;
                font-size: 14px;
                margin-bottom: 15px;
            }
            
            .header {
                flex-direction: column;
                align-items: stretch;
                gap: 12px;
                padding: 15px;
                text-align: center;
            }
            
            .header-actions {
                justify-content: center;
                width: 100%;
                flex-wrap: nowrap;
            }
            
            .btn {
                flex: 1;
                max-width: 120px;
                justify-content: center;
                padding: 12px 10px;
                font-size: 14px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .stat-card {
                padding: 14px;
            }

            .chart-container,
            .donut-container {
                height: 240px;
            }
            
            .chart-card,
            .table-card {
                padding: 14px;
            }

            .table-card {
                max-height: 320px;
            }
            
            .chart-header {
                flex-direction: column;
                align-items: stretch;
                gap: 10px;
                text-align: center;
            }
            
            .chart-title {
                justify-content: center;
                min-width: auto;
                font-size: 16px;
            }
            
            .date-filter {
                width: 100%;
                text-align: center;
                min-width: auto;
                font-size: 13px;
                padding: 8px 12px;
            }
            
            .theme-item,
            .needs-item {
                padding: 10px 0;
                gap: 8px;
            }
            
            .table th,
            .table td {
                padding: 8px 6px;
                font-size: 13px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 8px;
            }
            
            .header {
                padding: 15px;
            }
            
            .welcome h1 {
                font-size: 22px;
            }
            
            .welcome p {
                font-size: 15px;
            }
            
            .stats-grid {
                gap: 10px;
            }
            
            .stat-card {
                padding: 12px;
            }
            
            .btn {
                font-size: 13px;
                padding: 10px 8px;
                gap: 4px;
                max-width: 110px;
            }

            .chart-container,
            .donut-container {
                height: 220px;
            }
            
            .chart-card,
            .table-card {
                padding: 12px;
            }

            .table-card {
                max-height: 300px;
            }
            
            .table th,
            .table td {
                padding: 8px 4px;
                font-size: 12px;
            }
            
            .theme-item,
            .needs-item {
                padding: 8px 0;
                gap: 6px;
            }
            
            .industry-tag,
            .country-tag {
                padding: 2px 6px;
                font-size: 11px;
            }
            
            .chart-title {
                font-size: 15px;
            }
            
            .date-filter {
                font-size: 12px;
            }
        }

        /* Additional overflow fixes */
        .charts-section,
        .bottom-section,
        .content-grid,
        .stats-grid {
            overflow-x: hidden;
        }

        /* Ensure all text breaks properly */
        h1, h2, h3, h4, h5, h6, p, span, div {
            word-wrap: break-word;
            overflow-wrap: break-word;
            hyphens: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Breadcrumb Navigation -->
        <nav class="breadcrumb">
            <a href="index.html">
                <i class="fas fa-home"></i> Home
            </a>
            <span class="separator">/</span>
            <span class="current">Analytics</span>
        </nav>

        <div class="header">
            <div class="welcome">
                <h1>African Quantum Community Dashboard</h1>
                <p>Analytics of our quantum ecosystem across 50 countries with 288 members</p>
            </div>
            <div class="header-actions">
                <button class="btn btn-secondary" id="downloadBtn">
                    <i class="fas fa-file-pdf"></i>
                    <span>PDF</span>
                </button>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-title">Total Members</span>
                    <i class="fas fa-users stat-icon"></i>
                </div>
                <div class="stat-value">288</div>
            </div>
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-title">Organizations</span>
                    <i class="fas fa-building stat-icon"></i>
                </div>
                <div class="stat-value">105</div>
            </div>
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-title">Countries</span>
                    <i class="fas fa-globe-africa stat-icon"></i>
                </div>
                <div class="stat-value">50</div>
            </div>
            <div class="stat-card">
                <div class="stat-header">
                    <span class="stat-title">Research Themes</span>
                    <i class="fas fa-lightbulb stat-icon"></i>
                </div>
                <div class="stat-value">7</div>
            </div>
        </div>

        <div class="charts-section">
            <div class="charts-grid">
                <div class="chart-card">
                    <div class="chart-header">
                        <span class="chart-title">
                            <i class="fas fa-chart-bar" style="color: #22c55e;"></i>
                            Top Countries by Membership
                        </span>
                        <select class="date-filter">
                            <option>All Time</option>
                            <option>Last 12 Months</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <canvas id="countriesChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <div class="chart-header">
                        <span class="chart-title">
                            <i class="fas fa-chart-pie" style="color: #22c55e;"></i>
                            Member Status
                        </span>
                        <select class="date-filter">
                            <option>Current</option>
                        </select>
                    </div>
                    <div class="donut-container">
                        <canvas id="distributionChart"></canvas>
                        <div class="donut-center">
                            <div class="donut-percentage">92%</div>
                            <div class="donut-label">Active</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="bottom-section">
            <div class="content-grid">
                <div class="table-card">
                    <div class="chart-header">
                        <span class="chart-title">
                            <i class="fas fa-industry" style="color: #22c55e;"></i>
                            Top Industries
                        </span>
                        <button class="more-btn">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Industry</th>
                                <th>Count</th>
                                <th>%</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="industry-tag">Education</span></td>
                                <td>13</td>
                                <td>4.5%</td>
                            </tr>
                            <tr>
                                <td><span class="industry-tag">IT</span></td>
                                <td>6</td>
                                <td>2.1%</td>
                            </tr>
                            <tr>
                                <td><span class="industry-tag">Academia</span></td>
                                <td>4</td>
                                <td>1.4%</td>
                            </tr>
                            <tr>
                                <td><span class="industry-tag">Research</span></td>
                                <td>3</td>
                                <td>1.0%</td>
                            </tr>
                            <tr>
                                <td><span class="industry-tag">Consulting</span></td>
                                <td>3</td>
                                <td>1.0%</td>
                            </tr>
                            <tr>
                                <td><span class="industry-tag">Quantum</span></td>
                                <td>3</td>
                                <td>1.0%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="table-card">
                    <div class="chart-header">
                        <span class="chart-title">
                            <i class="fas fa-flag" style="color: #22c55e;"></i>
                            Geographic Distribution
                        </span>
                        <button class="more-btn">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Country</th>
                                <th>Members</th>
                                <th>%</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="country-tag">USA</span></td>
                                <td>53</td>
                                <td>18.4%</td>
                            </tr>
                            <tr>
                                <td><span class="country-tag">Nigeria</span></td>
                                <td>27</td>
                                <td>9.4%</td>
                            </tr>
                            <tr>
                                <td><span class="country-tag">Egypt</span></td>
                                <td>20</td>
                                <td>6.9%</td>
                            </tr>
                            <tr>
                                <td><span class="country-tag">Ghana</span></td>
                                <td>13</td>
                                <td>4.5%</td>
                            </tr>
                            <tr>
                                <td><span class="country-tag">Kenya</span></td>
                                <td>13</td>
                                <td>4.5%</td>
                            </tr>
                            <tr>
                                <td><span class="country-tag">Algeria</span></td>
                                <td>11</td>
                                <td>3.8%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="content-grid">
                <div class="table-card">
                    <div class="chart-header">
                        <span class="chart-title">
                            <i class="fas fa-lightbulb" style="color: #22c55e;"></i>
                            Research Themes
                        </span>
                        <button class="more-btn">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                    <div>
                        <div class="theme-item">
                            <div class="theme-content">
                                <div class="theme-title">Youth Research & Collaboration</div>
                                <div class="theme-stats">29 mentions • 27 contributors</div>
                            </div>
                            <div class="theme-badge">TOP</div>
                        </div>
                        <div class="theme-item">
                            <div class="theme-content">
                                <div class="theme-title">Industry Applications</div>
                                <div class="theme-stats">19 mentions • 17 contributors</div>
                            </div>
                            <div class="theme-badge">HOT</div>
                        </div>
                        <div class="theme-item">
                            <div class="theme-content">
                                <div class="theme-title">Education & Training</div>
                                <div class="theme-stats">15 mentions • 11 contributors</div>
                            </div>
                            <div class="theme-badge">ACTIVE</div>
                        </div>
                        <div class="theme-item">
                            <div class="theme-content">
                                <div class="theme-title">Community Outreach</div>
                                <div class="theme-stats">10 mentions • 7 contributors</div>
                            </div>
                            <div class="theme-badge">GROW</div>
                        </div>
                        <div class="theme-item">
                            <div class="theme-content">
                                <div class="theme-title">Funding Support</div>
                                <div class="theme-stats">7 mentions • 7 contributors</div>
                            </div>
                            <div class="theme-badge">NEW</div>
                        </div>
                    </div>
                </div>

                <div class="table-card">
                    <div class="chart-header">
                        <span class="chart-title">
                            <i class="fas fa-users-cog" style="color: #22c55e;"></i>
                            Member Needs & Contributions
                        </span>
                        <button class="more-btn">
                            <i class="fas fa-ellipsis-h"></i>
                        </button>
                    </div>
                    <div>
                        <div class="needs-item">
                            <div class="theme-content">
                                <div class="theme-title">Lead Working Groups</div>
                                <div class="theme-stats">Contribution Interest</div>
                            </div>
                            <div class="theme-badge">4</div>
                        </div>
                        <div class="needs-item">
                            <div class="theme-content">
                                <div class="theme-title">Mentorship/Guidance</div>
                                <div class="theme-stats">Top Need</div>
                            </div>
                            <div class="theme-badge">3</div>
                        </div>
                        <div class="needs-item">
                            <div class="theme-content">
                                <div class="theme-title">Host Meetups</div>
                                <div class="theme-stats">Community Building</div>
                            </div>
                            <div class="theme-badge">3</div>
                        </div>
                        <div class="needs-item">
                            <div class="theme-content">
                                <div class="theme-title">Industry Partnerships</div>
                                <div class="theme-stats">Collaboration Need</div>
                            </div>
                            <div class="theme-badge">2</div>
                        </div>
                        <div class="needs-item">
                            <div class="theme-content">
                                <div class="theme-title">Speak at Events</div>
                                <div class="theme-stats">Knowledge Sharing</div>
                            </div>
                            <div class="theme-badge">2</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Navigation functions
        function navigateToHome() {
            console.log('Navigate to home');
        }

        function navigateToDashboard() {
            console.log('Navigate to dashboard');
        }

        // PDF download functionality
        document.getElementById('downloadBtn').addEventListener('click', function() {
            const btn = this;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> <span>Generating...</span>';
            btn.disabled = true;

            setTimeout(() => {
                try {
                    const { jsPDF } = window.jspdf;
                    const doc = new jsPDF();
                    
                    doc.setFontSize(20);
                    doc.text('African Quantum Community Report', 20, 30);
                    
                    // Add date
                    doc.setFontSize(12);
                    doc.text(`Generated: ${new Date().toLocaleDateString()}`, 20, 45);
                    
                    // Add summary
                    doc.setFontSize(16);
                    doc.text('Summary Statistics', 20, 65);
                    
                    doc.setFontSize(12);
                    doc.text('Total Members: 288', 20, 80);
                    doc.text('Organizations: 105', 20, 90);
                    doc.text('Countries: 50', 20, 100);
                    doc.text('Research Themes: 7', 20, 110);
                    
                    // Add top countries
                    doc.setFontSize(16);
                    doc.text('Top Countries by Membership', 20, 130);
                    
                    doc.setFontSize(12);
                    const countries = [
                        'United States: 53 (18.4%)',
                        'Nigeria: 27 (9.4%)',
                        'Egypt: 20 (6.9%)',
                        'Ghana: 13 (4.5%)',
                        'Kenya: 13 (4.5%)',
                        'Algeria: 11 (3.8%)'
                    ];
                    
                    countries.forEach((country, index) => {
                        doc.text(country, 20, 145 + (index * 10));
                    });
                    
                    // Add research themes
                    doc.setFontSize(16);
                    doc.text('Top Research Themes', 20, 220);
                    
                    doc.setFontSize(12);
                    const themes = [
                        'Youth Research & Collaboration: 29 mentions',
                        'Industry Applications: 19 mentions',
                        'Education & Training: 15 mentions',
                        'Community Outreach: 10 mentions',
                        'Funding Support: 7 mentions'
                    ];
                    
                    themes.forEach((theme, index) => {
                        doc.text(theme, 20, 235 + (index * 10));
                    });
                    
                    // Save the PDF
                    doc.save(`AQC_Report_${new Date().toISOString().split('T')[0]}.pdf`);
                    
                    btn.innerHTML = '<i class="fas fa-check"></i> <span>Downloaded!</span>';
                    
                    setTimeout(() => {
                        btn.innerHTML = originalText;
                        btn.disabled = false;
                    }, 2000);
                    
                } catch (error) {
                    console.error('PDF generation error:', error);
                    btn.innerHTML = '<i class="fas fa-exclamation-triangle"></i> <span>Error</span>';
                    
                    setTimeout(() => {
                        btn.innerHTML = originalText;
                        btn.disabled = false;
                    }, 2000);
                }
            }, 500);
        });

        // Countries Bar Chart - Enhanced for mobile
        const countriesCtx = document.getElementById('countriesChart').getContext('2d');
        const countriesChart = new Chart(countriesCtx, {
            type: 'bar',
            data: {
                labels: ['USA', 'Nigeria', 'Egypt', 'Ghana', 'Kenya', 'Algeria'],
                datasets: [{
                    label: 'Members',
                    data: [53, 27, 20, 13, 13, 11],
                    backgroundColor: '#22c55e',
                    borderRadius: 4,
                    borderSkipped: false,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: {
                            color: '#333'
                        },
                        ticks: {
                            color: 'rgba(255, 255, 255, 0.7)',
                            font: {
                                size: function(context) {
                                    return window.innerWidth <= 480 ? 11 : window.innerWidth <= 768 ? 12 : 13;
                                }
                            }
                        }
                    },
                    x: {
                        grid: {
                            display: false
                        },
                        ticks: {
                            color: 'rgba(255, 255, 255, 0.7)',
                            maxRotation: 0,
                            font: {
                                size: function(context) {
                                    return window.innerWidth <= 480 ? 10 : window.innerWidth <= 768 ? 11 : 12;
                                }
                            }
                        }
                    }
                },
                animation: {
                    duration: 0
                }
            }
        });

        // Distribution Chart - Enhanced for mobile
        const distributionCtx = document.getElementById('distributionChart').getContext('2d');
        const distributionChart = new Chart(distributionCtx, {
            type: 'doughnut',
            data: {
                labels: ['Active', 'New', 'Inactive'],
                datasets: [{
                    data: [265, 15, 8],
                    backgroundColor: [
                        '#22c55e',
                        '#fbbf24',
                        '#6b7280'
                    ],
                    borderWidth: 0,
                    cutout: '70%'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            color: 'rgba(255, 255, 255, 0.7)',
                            usePointStyle: true,
                            padding: 10,
                            font: {
                                size: function(context) {
                                    return window.innerWidth <= 480 ? 10 : window.innerWidth <= 768 ? 11 : 12;
                                }
                            }
                        }
                    }
                },
                animation: {
                    duration: 0
                }
            }
        });

        // Enhanced mobile optimization
        function optimizeForDevice() {
            const isMobile = window.innerWidth <= 768;
            const isSmallMobile = window.innerWidth <= 480;
            
            // Update chart font sizes based on screen size
            const axisSize = isSmallMobile ? 11 : isMobile ? 12 : 13;
            const legendSize = isSmallMobile ? 10 : isMobile ? 11 : 12;
            
            // Update countries chart
            countriesChart.options.scales.x.ticks.font.size = axisSize;
            countriesChart.options.scales.y.ticks.font.size = axisSize;
            
            // Update distribution chart
            distributionChart.options.plugins.legend.labels.font.size = legendSize;
            
            // Update charts without animation
            countriesChart.update('none');
            distributionChart.update('none');
            
            // Adjust chart containers for different screen sizes
            if (isSmallMobile) {
                document.querySelectorAll('.chart-container, .donut-container').forEach(container => {
                    container.style.height = '220px';
                });
            } else if (isMobile) {
                document.querySelectorAll('.chart-container, .donut-container').forEach(container => {
                    container.style.height = '240px';
                });
            } else {
                document.querySelectorAll('.chart-container, .donut-container').forEach(container => {
                    container.style.height = '280px';
                });
            }
        }

        // Initial optimization
        optimizeForDevice();

        // Debounced resize handler to prevent excessive updates
        let resizeTimeout;
        window.addEventListener('resize', function() {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(optimizeForDevice, 250);
        });

        // Enhanced hover effects with touch support
        document.querySelectorAll('.stat-card, .chart-card, .table-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                if (window.innerWidth > 768) {
                    this.style.transform = 'translateY(-1px)';
                }
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
            
            // Touch feedback for mobile
            card.addEventListener('touchstart', function() {
                this.style.transform = 'scale(0.98)';
            });
            
            card.addEventListener('touchend', function() {
                this.style.transform = 'scale(1)';
            });
        });

        // Enhanced theme item interactions with better mobile support
        document.querySelectorAll('.theme-item, .needs-item').forEach(item => {
            item.addEventListener('click', function() {
                this.style.background = '#1a1a1a';
                setTimeout(() => {
                    this.style.background = 'transparent';
                }, 150);
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 's') {
                e.preventDefault();
                document.getElementById('downloadBtn').click();
            }
        });

        // Prevent horizontal scroll on mobile
        document.addEventListener('touchstart', function() {}, {passive: true});
        document.addEventListener('touchmove', function() {}, {passive: true});

        // Enhanced smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Add loading states for better UX
        document.addEventListener('DOMContentLoaded', function() {
            // Add a subtle loading animation for charts
            setTimeout(() => {
                document.querySelectorAll('.chart-card').forEach(card => {
                    card.style.opacity = '1';
                });
            }, 100);
        });

        // Performance optimization: Intersection Observer for charts
        if ('IntersectionObserver' in window) {
            const chartObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-in');
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '50px'
            });

            document.querySelectorAll('.chart-card, .stat-card, .table-card').forEach(card => {
                chartObserver.observe(card);
            });
        }
    </script>
</body>
</html>